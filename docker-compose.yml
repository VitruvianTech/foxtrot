version: '3.5'

services:
  app:
    image: dchevell/jira-software
    restart: unless-stopped
    volumes:
      - /var/atlassian/application-data/jira
    environment:
      CATALINA_CONNECTOR_SCHEME: ${CATALINA_CONNECTOR_SCHEME:-http}
      CATALINA_CONNECTOR_SECURE: ${CATALINA_CONNECTOR_SECURE:-false}
      VIRTUAL_HOST: ${DOMAIN:-}
      LETSENCRYPT_HOST: ${DOMAIN:-}
      LETSENCRYPT_EMAIL: ${EMAIL:-}
    logging:
      options:
        max-size: ${LOGGING_OPTIONS_MAX_SIZE:-200k}
    ports:
      - "${IP:-0.0.0.0}:${PORT:-8080}:8080"
    networks:
      foxtrot:
        aliases:
          - app

networks:
  foxtrot:
